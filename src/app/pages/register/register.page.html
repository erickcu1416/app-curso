<ion-content color="primary">
    <ion-grid class="mt-center">
        <ion-row>
            <ion-col offset="3" size="6">
                <ion-img src="/assets/icon/car2go.png"></ion-img>
            </ion-col>
        </ion-row>
    </ion-grid>

    <form [formGroup]="registerForm">
        <ion-grid class="mt-normal">
            <ion-row>
                <ion-col offset="1" size="10">
                    <ion-item>
                        <ion-input formControlName="username" color="light" clearInput="true" placeholder="Nombre de Usuario" class="ph-light" type="username" inputmode="username"></ion-input>
                    </ion-item>

                    <ng-container *ngFor="let e of error_messages.username">
                        <div class="error-messages" *ngIf="registerForm.get('username').hasError(e.type) && (registerForm.get('username').dirty || registerForm.get('username').touched)">
                            {{ e.message }}
                        </div>
                    </ng-container>

                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col offset="1" size="10">
                    <ion-item>
                        <ion-input formControlName="email" color="light" clearInput="true" placeholder="Correo Electronico" class="ph-light" type="email" inputmode="email"></ion-input>
                    </ion-item>

                    <ng-container *ngFor="let e of error_messages.email">
                        <div class="error-messages" *ngIf="registerForm.get('email').hasError(e.type) && (registerForm.get('email').dirty || registerForm.get('email').touched)">
                            {{ e.message }}
                        </div>
                    </ng-container>

                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col offset="1" size="10">
                    <ion-item>
                        <ion-input formControlName="password" placeholder="Contraseña" clearInput="true" type="password" color="light"></ion-input>
                    </ion-item>
                    <ng-container *ngFor="let e of error_messages.password">
                        <div class="error-messages" *ngIf="registerForm.get('password').hasError(e.type) && (registerForm.get('password').dirty || registerForm.get('password').touched)">
                            {{ e.message }}
                        </div>
                    </ng-container>

                </ion-col>
            </ion-row>

            <ion-row class="mt-small">
                <ion-col offset="1" size="10">
                    <ion-button [disabled]="!registerForm.valid" (click)="tryLogin(registerForm.value)" color="light" expand="full">
                        <ion-text color="primary">
                            REGISTRARME
                        </ion-text>
                    </ion-button>
                </ion-col>
            </ion-row>

            <ion-row class="mt-normal">
                <ion-col offset="1" size="10">
                    <ion-text color="light" routerLink="/login">
                        Si ya dispone de una cuenta da click aquí
                    </ion-text>
                </ion-col>
            </ion-row>
        </ion-grid>
    </form>
</ion-content>